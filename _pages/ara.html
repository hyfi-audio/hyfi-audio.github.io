---
layout: full
title:  "?"
permalink: /ara/
date:   2020-09-22
categories: pages
---
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>?</title>
</head>

<body onload="document.getElementById('search-input').focus();">
  <div id="main" role="main">
    <input type="text" id="search-input" placeholder="?..." onkeyup="return selectListItems(event)">
    <ul id="results-container"></ul>
  </div>

  <script src="https://unpkg.com/simple-jekyll-search/dest/simple-jekyll-search.min.js"></script>
  <script>
        var noResults = false;
        var numItems = 0;
        var listIndex = 0;
        var sjs = SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '/search.json',
          fuzzy: true,
          searchResultTemplate: '<li><a href="{url}" onkeydown="return navigateListItems(event)" id="{title}" target="_blank" style="color:{color}">{title}</a></li>',
        })

        function selectListItems(e) {
            // If no results search with duckduckgo else enter the list
            // Both enter, down, and right arrows work
            console.log(document.getElementById('results-container').childElementCount);
            if (e.keyCode == 13 || e.keyCode == 40) {
              if (document.getElementById('results-container').childElementCount == 0) {
                window.open("https://duckduckgo.com/?q=" + document.getElementById('search-input').value);
              } else {
                list_id = document.getElementById('results-container').children[0].innerText;
                document.getElementById(list_id).focus();
              }
            }
        }

        function navigateListItems(e) {
            // Up
            if (e.keyCode == 38) {
              listIndex -= 1;
            }
            // Down
            if (e.keyCode == 40) {
              listIndex += 1;
            }
            // Keep looping through the list
            numItems = document.getElementById('results-container').childElementCount;
            if (listIndex >= numItems) {
              listIndex = 0;
            }
            if (listIndex < 0) {
              listIndex = numItems - 1;
            }
            list_id = document.getElementById('results-container').children[listIndex].innerText;
            document.getElementById(list_id).focus();
            // Left arrow to exit
            if (e.keyCode == 37) {
              console.log("LEFT")
              document.activeElement.blur();
              document.getElementById('search-input').focus();
            }
        }
  </script>
</body>
</html>
